<html>

<head>
     <title>Acasa</title>
     <link rel="stylesheet" type="text/css" href="/style.css" />
</head>

<body>
     <div onclick="mainGateButtonHandler()" class="maingate_button">
	     <span>Deschide poarta</span>
	<div class="rotate"></div>
</div>
</body>

<style>
</style>
<script src="/socket.io/socket.io.js"></script>
<script>


     const socket = io();
     var mainGateButton = document.getElementsByClassName('maingate_button')[0];
     var buttonDisabled = false;
     function mainGateButtonHandler() {

          if (!buttonDisabled) {
               buttonDisabled = true;
               mainGateButton.classList.add('loading');
               setTimeout(function(){ mainGateButton.classList.remove('loading'); mainGateButton.classList.add('checked')}, 1500)
               setTimeout(function(){ mainGateButton.classList.remove('checked');}, 2500)
               setTimeout(function(){ buttonDisabled = false}, 3000)
               socket.emit('mainGateButtonClick');
               console.log('called frontend');
          }

     }
</script>


</html>
